# config/server.yml

# Base URL shown in links + used by clients
base-url: "${NTFY_BASE_URL}"

# Listen inside container
listen-http: ":80"

# Persist DB/cache/attachments
cache-file: "/var/cache/ntfy/cache.db"
attachment-cache-dir: "/var/cache/ntfy/attachments"

# ---- Security defaults ----
# Enable built-in auth; store auth DB in cache volume
auth-file: "/var/cache/ntfy/auth.db"

# Allow anyone to write/push, require auth to read/subscribe
auth-default-access: "write-only"

# Optional hardening (recommended)
behind-proxy: true
enable-login: true

# Limit abuse
visitor-request-limit-burst: 60
visitor-request-limit-replenish: "5s"

# Attachments limits (optional)
attachment-total-size-limit: "500M"
attachment-file-size-limit: "15M"
